type Query {
  moderationComment(id: Int!): ModerationComment
  moderationComments(
    filter: ModerationCommentsFilterInput
    pagination: ModerationCommentPaginationInput
  ): ModerationCommentConnection
}

type ModerationComment {
  id: Int!
  status: ModerationPostStatus!
  version: Int!
  timestamp: String!
  latest: Boolean!
  authorHash: String!
  post: ModerationPost
  parentId: Int
  parent: ModerationComment
  children: [ModerationComment!]!
  versions: [ModerationCommentVersion!]!
}

type ModerationCommentVersion {
  id: Int!
  content: String!
  version: Int!
  status: ModerationPostStatus!
  latest: Boolean!
  timestamp: String!
  comment: ModerationComment!
  moderations: [CommentModeration!]!
}

type CommentModeration {
  id: Int!
  commentVersion: ModerationCommentVersion!
  moderatorHash: String!
  decision: ModerationDecision!
  reason: String
  timestamp: String!
  modifiedContent: String
}

enum ModerationDecision {
  ACCEPTED
  REJECTED
}

enum ModerationCommentStatus {
  PENDING
  APPROVED
  REJECTED
}

input ModerationCommentsFilterInput {
  content: String
  status: ModerationCommentStatus
  authorHash: String
  postId: Int
  parentId: Int
}

input ModerationCommentPaginationInput {
  cursor: String
  limit: Int
}

type ModerationCommentEdge {
  node: ModerationComment!
  cursor: String!
}

type ModerationCommentConnection {
  totalCount: Int
  pageInfo: ModerationCommentPageInfo!
  edges: [ModerationCommentEdge]
}

type ModerationCommentPageInfo {
  startCursor: String
  endCursor: String
  hasNextPage: Boolean
}
